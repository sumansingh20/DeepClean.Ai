# ============================================================================
# A-DFP Firewall - Environment Configuration Template
# Copy this file to .env and update with your configuration
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
ENVIRONMENT=development
DEBUG=true
APP_VERSION=1.0.0
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# DATABASE - POSTGRESQL
# ============================================================================
POSTGRES_USER=adfp_user
POSTGRES_PASSWORD=adfp_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=adfp_db

# ============================================================================
# DATABASE - MONGODB (Audit Logs)
# ============================================================================
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=adfp_audit

# ============================================================================
# CACHE - REDIS
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# STORAGE - S3 / MINIO
# ============================================================================
S3_BUCKET_NAME=adfp-media
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
S3_USE_SSL=false

# ============================================================================
# SECURITY - JWT & ENCRYPTION
# ============================================================================
SECRET_KEY=your-secret-key-change-in-production-min-32-chars-long
ENCRYPTION_KEY=your-encryption-key-change-in-production-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_HOURS=24
REFRESH_TOKEN_EXPIRE_DAYS=30
ADMIN_API_KEY=admin-api-key-change-in-production

# ============================================================================
# ML MODELS
# ============================================================================
MODELS_DIR=./ml_models

# Voice Deepfake Detector
VOICE_MODEL_PATH=./ml_models/voice/deepfake_classifier/model.onnx
VOICE_WAV2VEC2_PRETRAINED=facebook/wav2vec2-base
VOICE_AUDIO_SAMPLE_RATE=16000
VOICE_DEEPFAKE_THRESHOLD=0.65
VOICE_DEEPFAKE_ESCALATE_THRESHOLD=0.85

# Video Deepfake Detector
VIDEO_MODEL_PATH=./ml_models/video/deepfake_detector/model.onnx
VIDEO_RETINAFACE_PATH=./ml_models/video/retinaface/model.onnx
VIDEO_FPS=2
VIDEO_MAX_FRAMES=100
VIDEO_DEEPFAKE_THRESHOLD=0.65
VIDEO_DEEPFAKE_ESCALATE_THRESHOLD=0.85

# Document Forgery Detector
DOCUMENT_FORGERY_THRESHOLD=0.60
DOCUMENT_FORGERY_ESCALATE_THRESHOLD=0.80
USE_TESSERACT=false

# Scam Call Analyzer
SCAM_ASR_MODEL=openai/whisper-base
SCAM_NLP_MODEL=distilbert-base-uncased
SCAM_ANALYSIS_THRESHOLD=0.60

# Liveness Detector
LIVENESS_CHALLENGE_TIMEOUT=60
LIVENESS_REQUIRED_BLINKS=2

# ============================================================================
# RISK SCORING - WEIGHTS & THRESHOLDS
# ============================================================================
# Component weights (must sum to 1.0)
RISK_VOICE_WEIGHT=0.20
RISK_VIDEO_WEIGHT=0.25
RISK_DOCUMENT_WEIGHT=0.25
RISK_SCAM_WEIGHT=0.15
RISK_LIVENESS_WEIGHT=0.15

# Risk score thresholds
RISK_LOW_THRESHOLD=0.30
RISK_MEDIUM_THRESHOLD=0.60
RISK_HIGH_THRESHOLD=0.85

# ============================================================================
# FILE UPLOAD LIMITS
# ============================================================================
MAX_AUDIO_FILE_SIZE=52428800  # 50 MB
MAX_VIDEO_FILE_SIZE=524288000  # 500 MB
MAX_DOCUMENT_FILE_SIZE=10485760  # 10 MB

# ============================================================================
# CELERY - TASK QUEUE
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC

# ============================================================================
# MONITORING - ELASTICSEARCH & PROMETHEUS
# ============================================================================
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX=adfp-logs

PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ============================================================================
# CORS - ALLOWED ORIGINS
# ============================================================================
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","https://adfp.company.com"]

# ============================================================================
# DATA RETENTION POLICIES
# ============================================================================
AUDIO_RETENTION_DAYS=30
VIDEO_RETENTION_DAYS=30
INCIDENT_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=180

# ============================================================================
# THIRD-PARTY INTEGRATIONS
# ============================================================================

# Slack Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# SendGrid Email
SENDGRID_API_KEY=SG.your-api-key
SENDGRID_FROM_EMAIL=alerts@adfp.company.com

# ============================================================================
# COMPLIANCE
# ============================================================================
GDPR_ENABLED=true
ENABLE_ENCRYPTION_AT_REST=true
ENABLE_AUDIT_LOGGING=true

# ============================================================================
# FRONTEND ENVIRONMENT VARIABLES
# ============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_APP_NAME=A-DFP Firewall
NEXT_PUBLIC_APP_VERSION=1.0.0
